name: Notify Discord on PR Creation  # 또는 Notify Discord on Develop Push

on:
  pull_request:  # PR 생성 시: types: [opened]
    types: [opened]
    branches:
      - develop
  # 푸시 시: on: push: branches: - develop

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord Notification
        uses: appleboy/discord-action@v0.1.10  # 안정적인 최신 버전
        with:
          webhook_url: ${{ secrets.DISCORD_WEBHOOK }}  # webhook → webhook_url로 변경
          message: |
            **🚨 새로운 PR이 생성되었습니다!**  # 또는 develop 업데이트 메시지
            **PR 제목**: ${{ github.event.pull_request.title }}
            **작성자**: ${{ github.event.pull_request.user.login }}
            **리뷰어**: ${{ github.event.pull_request.requested_reviewers[*].login }}
            **PR 링크**: [${{ github.event.pull_request.title }}](${{ github.event.pull_request.html_url }})
            
            **작업 브랜치 최신화 안내**:
            1. `git checkout develop`
            2. `git pull origin develop`
            3. `git checkout <작업 브랜치>`
            4. `git merge develop`
            5. 충돌 해결 후 커밋/푸시
            
            리뷰 부탁드립니다! 🙌